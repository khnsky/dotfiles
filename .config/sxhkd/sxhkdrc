# vim:fdm=marker:fmr={{{,}}}:fdl=0:fen:ts=4:sts=4:sw=4:et

# TODO: make wm agnostic keybindings

# wm bindings {{{
# switch to/move container to workspace
super + {_,shift} + {1,2,3,4,5,6,7,8,9,0}
 i3-msg {_,move container to} workspace {1,2,3,4,5,6,7,8,9,0}

# switch to/move container to last workspace
super + {_,shift} + z
 {_,i3-msg move container to workspace back_and_forth}; i3-msg workspace back_and_forth

# start a terminal
super + Return
 st || i3-sensible-terminal

# kill focused window
super + shift + q
 i3-msg kill

# start dmenu (a program launcher)
super + d
 rofi -show run

# change focus to/move focused window
super + {_,shift} + {h,j,k,l}
 i3-msg {focus,move} {left,down,up,right}

# split vertically/horizontally
super + {_,shift} + v
 i3-msg split {h,v}

# enter fullscreen mode for the focused container
super + f
 i3-msg fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
super + {s,w,e}
 i3-msg layout {stacking,tabbed,toggle split}

# toggle tiling / floating
super + shift + space
 i3-msg floating toggle

# change focus between tiling / floating windows
super + space
 i3-msg focus mode_toggle

# focus the parent container
super + a
 i3-msg focus parent

# scratchpad
super + x
 i3-msg scratchpad show
super + c
 i3-msg move scratchpad

# relaod configuration file
super + shift + c
 i3-msg reload
# restart i3 inplace (preserve layout/session)
super + shift + r
 i3-msg restart
# exit i3
super + shift + e
 i3-nagbar -t warning -b 'exit i3' 'i3-msg exit' -b 'poweroff' 'systemctl poweroff' \
 -b 'reboot' 'systemctl reboot' -b 'suspend' 'systemctl suspend' \
 -b 'hibernate' 'systemctl hibernate'
# }}}

# additional media keys

# TODO: make it work only if not in some program that already uses them (e.g. mpv)
# TODO: restart statusbar?
#

#XF86AudioMute
#
#XF86AudioLowerVolume
# amixer -q set Master 1%-
#
# doesn't work for some reason
#XF86AudioRiseVolume
# amixer -q set Master 1%+
#
#XF86AudioMicMute
#
#XF86AudioPlay
#XF86AudioStop
#XF86AudioPrev
#XF86AudioNext
#
#XF86Launch1
#XF86WakeUp
#
#Print
# TODO: make it agnostic of screenshot utility (e.g. scrot, maim)
# TODO: find better naming scheme than unix epoch time
# print screen
{_,ctrl} + {_,shift} + Print
 mkdir -p ~/pictures/screenshots && maim {_,--hidecursor} {_,--select}  ~/pictures/screenshots/$(date +%s).png

# restart sxhkd, need to choose shortcut
# pkill -i --signal SIGUSR1 sxhkd 
